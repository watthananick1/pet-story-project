{"ast":null,"code":"var _jsxFileName = \"/Users/watthananick/pet-story-project/client/src/pages/login/Login.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useContext, useRef } from \"react\";\nimport \"./login.css\";\nimport { loginCall } from \"../../apiCalls\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport { useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const email = useRef();\n  const password = useRef();\n  const history = useHistory();\n  const {\n    isFetching,\n    dispatch\n  } = useContext(AuthContext);\n  const [passwordVisible, setPasswordVisible] = useState(false);\n  const handleClick = async e => {\n    e.preventDefault();\n    try {\n      await loginCall({\n        email: email.current.value,\n        password: password.current.value\n      }, dispatch);\n      history.push(\"/\"); // Redirect to home page after successful login\n    } catch (error) {\n      console.error(\"Login failed:\", error);\n      // Handle login failure, show error message, etc.\n    }\n  };\n\n  const handleClickCreate = e => {\n    e.preventDefault();\n    history.push('/register');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    style: {\n      backgroundColor: \"#E2D7F0\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginWrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loginLeft\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"loginLogo\",\n          style: {\n            color: \"#6309de\"\n          },\n          children: \"Pet Story\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"loginDesc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loginRight\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"loginBox\",\n          onSubmit: handleClick,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Email\",\n            type: \"email\",\n            required: true,\n            className: \"loginInput\",\n            ref: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"passwordContainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"Password\",\n              type: passwordVisible ? \"text\" : \"password\",\n              required: true,\n              minLength: \"6\",\n              className: \"loginInput\",\n              ref: password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this), passwordVisible ? /*#__PURE__*/_jsxDEV(VisibilityOffIcon, {\n              className: \"passwordVisibilityIcon\",\n              onClick: () => setPasswordVisible(false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(VisibilityIcon, {\n              className: \"passwordVisibilityIcon\",\n              onClick: () => setPasswordVisible(true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"loginButton\",\n            type: \"submit\",\n            disabled: isFetching,\n            style: {\n              backgroundColor: \"#6309de\"\n            },\n            children: isFetching ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              color: \"white\",\n              size: \"20px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this) : \"Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"loginForgot\",\n            children: \"Forgot Password?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"loginRegisterButton\",\n            onClick: handleClickCreate,\n            children: isFetching ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              color: \"white\",\n              size: \"20px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this) : \"Create a New Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"y4wvujd/fqeTnsASR/s7ig+g4vc=\", false, function () {\n  return [useHistory];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useContext","useRef","loginCall","AuthContext","CircularProgress","VisibilityIcon","VisibilityOffIcon","useHistory","jsxDEV","_jsxDEV","Login","_s","email","password","history","isFetching","dispatch","passwordVisible","setPasswordVisible","handleClick","e","preventDefault","current","value","push","error","console","handleClickCreate","className","style","backgroundColor","children","color","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","type","required","ref","minLength","onClick","disabled","size","_c","$RefreshReg$"],"sources":["/Users/watthananick/pet-story-project/client/src/pages/login/Login.jsx"],"sourcesContent":["import { useState, useContext, useRef } from \"react\";\nimport \"./login.css\";\nimport { loginCall } from \"../../apiCalls\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport { useHistory } from \"react-router\";\n\nexport default function Login() {\n  const email = useRef();\n  const password = useRef();\n  const history = useHistory();\n  const { isFetching, dispatch } = useContext(AuthContext);\n  const [passwordVisible, setPasswordVisible] = useState(false);\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    try {\n      await loginCall(\n        { email: email.current.value, password: password.current.value },\n        dispatch\n      );\n      history.push(\"/\"); // Redirect to home page after successful login\n    } catch (error) {\n      console.error(\"Login failed:\", error);\n      // Handle login failure, show error message, etc.\n    }\n  };\n  \n  const handleClickCreate = (e) => {\n    e.preventDefault();\n    history.push('/register')\n  }\n\n  return (\n    <div className=\"login\" style={{ backgroundColor: \"#E2D7F0\" }}>\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\" style={{ color: \"#6309de\" }}>Pet Story</h3>\n          <span className=\"loginDesc\"></span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Email\"\n              type=\"email\"\n              required\n              className=\"loginInput\"\n              ref={email}\n            />\n            <div className=\"passwordContainer\">\n              <input\n                placeholder=\"Password\"\n                type={passwordVisible ? \"text\" : \"password\"}\n                required\n                minLength=\"6\"\n                className=\"loginInput\"\n                ref={password}\n              />\n              {passwordVisible ? (\n                <VisibilityOffIcon\n                  className=\"passwordVisibilityIcon\"\n                  onClick={() => setPasswordVisible(false)}\n                />\n              ) : (\n                <VisibilityIcon\n                  className=\"passwordVisibilityIcon\"\n                  onClick={() => setPasswordVisible(true)}\n                />\n              )}\n            </div>\n\n            <button className=\"loginButton\" type=\"submit\" disabled={isFetching} style={{ backgroundColor: \"#6309de\" }} >\n              {isFetching ? (\n                <CircularProgress color=\"white\" size=\"20px\" />\n              ) : (\n                \"Log In\"\n              )}\n            </button>\n            <span className=\"loginForgot\">Forgot Password?</span>\n            <button className=\"loginRegisterButton\" onClick={handleClickCreate}>\n              {isFetching ? (\n                <CircularProgress color=\"white\" size=\"20px\" />\n              ) : (\n                \"Create a New Account\"\n              )}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}